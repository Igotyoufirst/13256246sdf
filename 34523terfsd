-- file: ui_library.lua
local ui = {}

-- Optional: Function to setup font from URL; fallback for font
function ui.loadFont(fontUrl)
    if not fontUrl then return nil end
    local fontPath = "smallest_pixel.ttf"
    local fontFacePath = "fontface.font"

    writefile(fontPath, game:HttpGet(fontUrl))

    local smallest_pixel = {
        name = "SmallestPixel7",
        faces = {
            {
                name = "Regular",
                weight = Enum.FontWeight.Light, -- fixed Weight & Style to Enum values
                style = Enum.FontStyle.Normal,
                assetId = getcustomasset(fontPath)
            }
        }
    }

    writefile(fontFacePath, game:GetService("HttpService"):JSONEncode(smallest_pixel))
    local success, font = pcall(function()
        return Font.new(getcustomasset(fontFacePath), Enum.FontWeight.Light)
    end)
    
    if success then
        return font
    else
        return nil
    end
end

function ui.createUI(font)
    font = font or Enum.Font.SourceSans -- Fallback font

    local ragebot = Instance.new("ScreenGui")
    ragebot.Name = "ragebot"
    ragebot.ResetOnSpawn = false
    ragebot.Parent = game:GetService("CoreGui")

    -- Main Accent Frame
    local MainAccent = Instance.new("Frame", ragebot)
    MainAccent.Name = "Main accent"
    MainAccent.AnchorPoint = Vector2.new(0.5, 0.5)
    MainAccent.Position = UDim2.new(0.5, 0, 0.5, 0)
    MainAccent.Size = UDim2.new(0, 201, 0, 135)
    MainAccent.BackgroundColor3 = Color3.fromRGB(59, 59, 95)
    MainAccent.BorderSizePixel = 0

    local MainAccent_UIStroke = Instance.new("UIStroke", MainAccent)

    -- Second main
    local secondmain = Instance.new("Frame", MainAccent)
    secondmain.Name = "secondmain"
    secondmain.Position = UDim2.new(0, 1, 0, 1)
    secondmain.Size = UDim2.new(1, -2, 1, -2)
    secondmain.BackgroundColor3 = Color3.fromRGB(27, 27, 27)
    secondmain.BorderSizePixel = 0

    -- Box main
    local boxmain = Instance.new("Frame", secondmain)
    boxmain.Name = "box main"
    boxmain.Position = UDim2.new(0, 4, 0, 20)
    boxmain.Size = UDim2.new(1, -8, 1, -24)
    boxmain.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    boxmain.BorderSizePixel = 0

    local boxmain_UIStroke = Instance.new("UIStroke", boxmain)
    boxmain_UIStroke.Color = Color3.fromRGB(43, 43, 43)

    -- Second box main
    local secondboxmain = Instance.new("Frame", boxmain)
    secondboxmain.Name = "second box main"
    secondboxmain.Position = UDim2.new(0, 5, 0, 5)
    secondboxmain.Size = UDim2.new(1, -10, 1, -10)
    secondboxmain.BackgroundColor3 = Color3.fromRGB(23, 23, 23)
    secondboxmain.BorderSizePixel = 0

    local secondboxmain_UIStroke = Instance.new("UIStroke", secondboxmain)
    secondboxmain_UIStroke.Color = Color3.fromRGB(43, 43, 43)

    -- Holder frame
    local holder = Instance.new("Frame", secondboxmain)
    holder.Name = "holder"
    holder.Position = UDim2.new(0, 4, 0, 4)
    holder.Size = UDim2.new(1, -8, 1, -8)
    holder.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    holder.BorderSizePixel = 0

    local holder_UIStroke = Instance.new("UIStroke", holder)
    holder_UIStroke.Color = Color3.fromRGB(43, 43, 43)

    local accentstripe = Instance.new("Frame", holder)
    accentstripe.Name = "accent stripe"
    accentstripe.Position = UDim2.new(0, 1, 0, 1)
    accentstripe.Size = UDim2.new(1, -2, 0, 2)
    accentstripe.BackgroundColor3 = Color3.fromRGB(74, 84, 122)

    local holder_UIGradient = Instance.new("UIGradient", holder)
    holder_UIGradient.Rotation = -90
    holder_UIGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(103, 103, 103)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
    }

    -- Title Label
    local Title = Instance.new("TextLabel", holder)
    Title.Name = "Title"
    Title.Position = UDim2.new(0, -8, 0, -45)
    Title.Size = UDim2.new(0, 200, 0, 50)
    Title.BackgroundTransparency = 1
    Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Title.BorderSizePixel = 0
    Title.FontFace = font
    Title.Text = "biteme.club"
    Title.TextColor3 = Color3.fromRGB(140, 140, 140)
    Title.TextSize = 12
    Title.TextStrokeTransparency = 0
    Title.TextXAlignment = Enum.TextXAlignment.Left

    -- Holder (inside holder)
    local Holder = Instance.new("Frame", holder)
    Holder.Name = "Holder"
    Holder.Size = UDim2.new(1, 0, 1, 0)
    Holder.BackgroundTransparency = 1
    Holder.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Holder.BorderSizePixel = 0

    local UILayout = Instance.new("UIListLayout", Holder)
    UILayout.SortOrder = Enum.SortOrder.LayoutOrder
    UILayout.Padding = UDim.new(0, 10)

    -- Toggleholder1
    local toggleholder1 = Instance.new("Frame", Holder)
    toggleholder1.Name = "toggleholder"
    toggleholder1.Position = UDim2.new(0, 5, 0, 10)
    toggleholder1.Size = UDim2.new(0, 10, 0, 10)
    toggleholder1.BackgroundTransparency = 1
    toggleholder1.BorderSizePixel = 0

    local untoggled = Instance.new("Frame", toggleholder1)
    untoggled.Name = "untoggled"
    untoggled.BackgroundColor3 = Color3.fromRGB(44, 44, 44)
    untoggled.Size = UDim2.new(0, 10, 0, 10)
    untoggled.Position = UDim2.new(0, 10, 0, 10)
    untoggled.BorderSizePixel = 0

    local untoggled_info = Instance.new("TextLabel", untoggled)
    untoggled_info.Name = "info"
    untoggled_info.Position = UDim2.new(0, 15, 0, 0)
    untoggled_info.Size = UDim2.new(0, 0, 0, 10)
    untoggled_info.BackgroundTransparency = 1
    untoggled_info.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    untoggled_info.BorderSizePixel = 0
    untoggled_info.FontFace = font
    untoggled_info.Text = "toggled off"
    untoggled_info.TextColor3 = Color3.fromRGB(140, 140, 140)
    untoggled_info.TextSize = 12
    untoggled_info.TextStrokeTransparency = 0
    untoggled_info.TextXAlignment = Enum.TextXAlignment.Left
    untoggled_info.ZIndex = 2

    local untoggled_UIGradient = Instance.new("UIGradient", untoggled)
    untoggled_UIGradient.Rotation = -90
    untoggled_UIGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(174, 174, 174)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
    }

    -- Toggleholder2
    local toggleholder2 = Instance.new("Frame", Holder)
    toggleholder2.Name = "toggleholder"
    toggleholder2.Position = UDim2.new(0, 5, 0, 10)
    toggleholder2.Size = UDim2.new(0, 10, 0, 10)
    toggleholder2.BackgroundTransparency = 1
    toggleholder2.BorderSizePixel = 0

    local toggled = Instance.new("Frame", toggleholder2)
    toggled.Name = "toggled"
    toggled.BackgroundColor3 = Color3.fromRGB(59, 59, 95)
    toggled.Size = UDim2.new(0, 10, 0, 10)
    toggled.Position = UDim2.new(0, 10, 0, 10)
    toggled.BorderSizePixel = 0

    local toggled_info = Instance.new("TextLabel", toggled)
    toggled_info.Name = "info"
    toggled_info.Position = UDim2.new(0, 15, 0, 0)
    toggled_info.Size = UDim2.new(0, 0, 0, 10)
    toggled_info.BackgroundTransparency = 1
    toggled_info.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    toggled_info.BorderSizePixel = 0
    toggled_info.FontFace = font
    toggled_info.Text = "toggled on"
    toggled_info.TextColor3 = Color3.fromRGB(173, 173, 173)
    toggled_info.TextSize = 12
    toggled_info.TextStrokeTransparency = 0
    toggled_info.TextXAlignment = Enum.TextXAlignment.Left
    toggled_info.ZIndex = 2

    local toggled_UIGradient = Instance.new("UIGradient", toggled)
    toggled_UIGradient.Rotation = -90
    toggled_UIGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(174, 174, 174)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
    }

    -- Slider frame
    local slider = Instance.new("Frame", Holder)
    slider.Name = "slider"
    slider.Position = UDim2.new(0, 5, 0, 10)
    slider.Size = UDim2.new(1, 0, 0, 10)
    slider.BackgroundTransparency = 1
    slider.BorderSizePixel = 0
    slider.BackgroundColor3 = Color3.fromRGB(255, 255, 255)

    local sliderbg = Instance.new("Frame", slider)
    sliderbg.Name = "sliderbg"
    sliderbg.Position = UDim2.new(0, 10, 0, 10)
    sliderbg.Size = UDim2.new(1, -20, 0, 10)
    sliderbg.BackgroundColor3 = Color3.fromRGB(37, 37, 37)
    sliderbg.BorderSizePixel = 0

    local sliderbg_UIGradient = Instance.new("UIGradient", sliderbg)
    sliderbg_UIGradient.Rotation = -90
    sliderbg_UIGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(174, 174, 174)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
    }

    local sliderFill = Instance.new("Frame", sliderbg)
    sliderFill.Name = "slider"
    sliderFill.Size = UDim2.new(0.60526, 0, 1, 0)
    sliderFill.BackgroundColor3 = Color3.fromRGB(59, 59, 95)
    sliderFill.BorderSizePixel = 0

    local sliderFill_UIGradient = Instance.new("UIGradient", sliderFill)
    sliderFill_UIGradient.Rotation = -90
    sliderFill_UIGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(174, 174, 174)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
    }

    local sliderInfo = Instance.new("TextLabel", sliderbg)
    sliderInfo.Name = "info"
    sliderInfo.Size = UDim2.new(1, 0, 1, 0)
    sliderInfo.BackgroundTransparency = 1
    sliderInfo.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    sliderInfo.BorderSizePixel = 0
    sliderInfo.FontFace = font
    sliderInfo.Text = "15/7"
    sliderInfo.TextColor3 = Color3.fromRGB(173, 173, 173)
    sliderInfo.TextSize = 12
    sliderInfo.TextStrokeTransparency = 0
    sliderInfo.TextYAlignment = Enum.TextYAlignment.Bottom
    sliderInfo.ZIndex = 2

    -- Hovered slider (similar to slider - can be customized)
    local hoveredSlider = Instance.new("Frame", Holder)
    hoveredSlider.Name = "hovered slider"
    hoveredSlider.Position = UDim2.new(0, 5, 0, 10)
    hoveredSlider.Size = UDim2.new(1, 0, 0, 10)
    hoveredSlider.BackgroundTransparency = 1
    hoveredSlider.BorderSizePixel = 0
    hoveredSlider.BackgroundColor3 = Color3.fromRGB(255, 255, 255)

    local hoveredSliderBg = Instance.new("Frame", hoveredSlider)
    hoveredSliderBg.Name = "sliderbg"
    hoveredSliderBg.Position = UDim2.new(0, 10, 0, 10)
    hoveredSliderBg.Size = UDim2.new(1, -20, 0, 10)
    hoveredSliderBg.BackgroundColor3 = Color3.fromRGB(37, 37, 37)
    hoveredSliderBg.BorderSizePixel = 0

    local hoveredSliderBg_UIGradient = Instance.new("UIGradient", hoveredSliderBg)
    hoveredSliderBg_UIGradient.Rotation = -90
    hoveredSliderBg_UIGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(174, 174, 174)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
    }

    local hoveredSliderFill = Instance.new("Frame", hoveredSliderBg)
    hoveredSliderFill.Name = "slider"
    hoveredSliderFill.Size = UDim2.new(0.60526, 0, 1, 0)
    hoveredSliderFill.BackgroundColor3 = Color3.fromRGB(59, 59, 95)
    hoveredSliderFill.BorderSizePixel = 0

    local hoveredSliderFill_UIGradient = Instance.new("UIGradient", hoveredSliderFill)
    hoveredSliderFill_UIGradient.Rotation = -90
    hoveredSliderFill_UIGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(174, 174, 174)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
    }

    local hoveredSliderInfo = Instance.new("TextLabel", hoveredSliderBg)
    hoveredSliderInfo.Name = "info"
    hoveredSliderInfo.Size = UDim2.new(1, 0, 1, 0)
    hoveredSliderInfo.BackgroundTransparency = 1
    hoveredSliderInfo.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    hoveredSliderInfo.BorderSizePixel = 0
    hoveredSliderInfo.FontFace = font
    hoveredSliderInfo.Text = "15/7"
    hoveredSliderInfo.TextColor3 = Color3.fromRGB(173, 173, 173)
    hoveredSliderInfo.TextSize = 12
    hoveredSliderInfo.TextStrokeTransparency = 0
    hoveredSliderInfo.TextYAlignment = Enum.TextYAlignment.Bottom
    hoveredSliderInfo.ZIndex = 2

    -- X Button Label
    local XButton = Instance.new("TextLabel", holder)
    XButton.Name = "X Button"
    XButton.Position = UDim2.new(0, 7, 0, -20)
    XButton.Size = UDim2.new(1, 0, 0, 0)
    XButton.BackgroundTransparency = 1
    XButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    XButton.BorderSizePixel = 0
    XButton.FontFace = font
    XButton.Text = "X"
    XButton.TextColor3 = Color3.fromRGB(140, 140, 140)
    XButton.TextSize = 12
    XButton.TextStrokeTransparency = 0
    XButton.TextXAlignment = Enum.TextXAlignment.Right

    -- DropShadow Holder Frame
    local DropShadowHolder = Instance.new("Frame", MainAccent)
    DropShadowHolder.Name = "DropShadowHolder"
    DropShadowHolder.Size = UDim2.new(1, 0, 1, 0)
    DropShadowHolder.BackgroundTransparency = 1
    DropShadowHolder.BorderSizePixel = 0
    DropShadowHolder.ZIndex = 0

    local DropShadow = Instance.new("ImageLabel", DropShadowHolder)
    DropShadow.Name = "DropShadow"
    DropShadow.Size = UDim2.new(1, 47, 1, 47)
    DropShadow.Position = UDim2.new(0.5, 0, 0.5, 0)
    DropShadow.BackgroundTransparency = 1
    DropShadow.BorderSizePixel = 0
    DropShadow.AnchorPoint = Vector2.new(0.5, 0.5)
    DropShadow.ScaleType = Enum.ScaleType.Slice
    DropShadow.SliceCenter = Rect.new(49, 49, 450, 450)
    DropShadow.Image = "rbxassetid://6015897843"
    DropShadow.ImageTransparency = 0.5
    DropShadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
    DropShadow.ZIndex = 0

    return ragebot
end

return ui
